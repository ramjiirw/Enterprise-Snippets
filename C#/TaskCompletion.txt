//Strings: Task Metadata
int    TaskDefId      = 3000;   

// TASK COMPLETION

int iEmail = data.GetSQLValueInt(
    "SELECT COUNT(*) FROM AETASK s " +
    "WHERE s.TASKTABLEKEY='" + data.KEYVAL.ToString() + "' " +
    "AND s.TASKDEFID=" + TaskDefId); // configurable above

if (iEmail < 1)
    smtp.Send(mailMessage);

return false;
